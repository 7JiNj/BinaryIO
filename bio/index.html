<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Binary IO</title>
    <link rel="icon"
          type="image/png"
          href="icon.png">

    <script src="binary.js"></script>
    <script src="browser-node.js"></script>
    <script src="basic-emitter.js"></script>
    <script src="bioclient.js"></script>
    <script src="biolib.js"></script>
    <script>
        var bio = Bio("ws://localhost:9009", function () {
            var ab = new ArrayBuffer(2);
            var uint8 = new Uint8Array(ab);
            uint8[0] = 10;
            uint8[1] = 11;

            var f64 = new Float64Array(7);
            f64[0] = 12;
            f64[6] = 100;

            var stream = bio.stream({something: 123});
            stream.call("Hi",{m:"hi",x: 1},uint8,function (args,bioS) {
                console.log(args);
                bioS.on("client?",function(meta,data,cb){
                    console.log(meta);
                    console.log(data);
                    cb({what:"cb from client",x:args.x+1});
                });
            });

            stream.call("Whats Up?",{foo:"bar"},f64,function (args,bioS) {
                console.log(args);
            });
        });
    </script>
</head>
<body>

</body>
</html>